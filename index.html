<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pathfinding.js - A* Graph Visualization</title>
    <script type="text/javascript" src="./bower_components/pathfinding/pathfinding-browser.min.js"></script>
    <script src="https://unpkg.com/vis-network@9.1.0/dist/vis-network.min.js"></script>
    <style>
        #mynetwork { width: 100%; height: 500px; border: 1px solid black; }
    </style>
</head>
<body>
    <div id="mynetwork"></div>
    <script type="module">
      import GraphDrawer from './GraphDrawer.js';

      const labels = ['a', 'b', 'c', 'd']
      
      const matrix = [
            [1, 0, 1, 0],
            [0, 1, 0, 1],
            [0, 1, 1, 0],
            [0, 1, 0, 1]
        ];

        const grid = new PF.Grid(matrix);
        const finder = new PF.AStarFinder();

        const start = [0, 0];
        const end = [3, 3];

        const path = finder.findPath(start[1], start[0], end[1], end[0], grid);

        const nodes = [];
        const edges = [];
        const cellSize = 80;

        for (let y = 0; y < matrix.length; y++) {
            for (let x = 0; x < matrix[0].length; x++) {
                if (matrix[y][x] === 0) {
                    nodes.push({ id: `${x},${y}`, label: `${x},${y}`, x: x * cellSize + 40, y: y * cellSize + 40 });
                }
            }
        }

        for (let i = 0; i < path.length - 1; i++) {
            const [x1, y1] = path[i];
            const [x2, y2] = path[i + 1];
            edges.push({ from: `${x1},${y1}`, to: `${x2},${y2}` });
        }

        const data = { nodes, edges };
        const graph = new GraphDrawer("mynetwork", data);
    </script>
</body>
</html>
