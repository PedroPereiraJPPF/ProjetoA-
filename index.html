<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pathfinding.js - A* Graph Visualization</title>
    <script type="text/javascript" src="./bower_components/pathfinding/pathfinding-browser.min.js"></script>
    <script src="https://unpkg.com/vis-network@9.1.0/dist/vis-network.min.js"></script>
    <style>
        #mynetwork { width: 100%; height: 500px; border: 1px solid black; }
    </style>
</head>
<body>
    <div id="mynetwork"></div>
    <script type="module">
      import GraphDrawer from './GraphDrawer.js';

      const matrix = [
            [1, 0, 0, 0, 1],
            [0, 0, 1, 0, 0],
            [0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0],
            [1, 0, 0, 0, 0]
        ];

        const grid = new PF.Grid(matrix);
        const finder = new PF.AStarFinder();

        const start = [0, 0];
        const end = [4, 4];

        const path = finder.findPath(start[1], start[0], end[1], end[0], grid);

        const nodes = [];
        const edges = [];
        const cellSize = 80;

        for (let i = 0; i < matrix.length; i++) {
            nodes.push({ id: `${i}`, label: String.fromCharCode(65 + i), x: i * cellSize, y: i * cellSize });

            for (let j = 0; j < matrix[i].length; j++) {
                if (matrix[i][j] === 1) {
                    edges.push({ from: `${i}`, to: `${j}` });
                }
            }
        }

        /*
        for (let i = 0; i < path.length - 1; i++) {
            const [x1, y1] = path[i];
            const [x2, y2] = path[i + 1];
            edges.push({ from: `${x1},${y1}`, to: `${x2},${y2}` });
        }
        */

        const data = { nodes, edges };
        const graph = new GraphDrawer("mynetwork", data);
    </script>
</body>
</html>
